document.addEventListener("DOMContentLoaded",function(){const c=document.querySelectorAll(".filter-item"),a=document.querySelectorAll(".news-card");c.forEach(t=>{t.addEventListener("click",function(){const e=this.getAttribute("data-category");c.forEach(o=>o.classList.remove("active")),this.classList.add("active"),d(e)})});function d(t){a.forEach(e=>{const o=e.querySelector(".news-category"),n=o?o.textContent.trim().toLowerCase():"";t==="all"||n===t.replace("-"," ")?(e.style.display="block",e.style.opacity="0",e.style.transform="translateY(30px)",setTimeout(()=>{e.style.transition="all 0.6s ease",e.style.opacity="1",e.style.transform="translateY(0)"},100)):e.style.display="none"})}const y=document.querySelectorAll(".read-more-btn");let s=null;console.log("News cards found:",a.length);const i=document.querySelector(".featured-news");i&&i.addEventListener("click",function(t){t.preventDefault();const e=this.getAttribute("data-modal-target");r(e)}),a.forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();const o=this.getAttribute("data-modal-target");r(o)})}),y.forEach(t=>{t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();const o=this.closest(".news-card");if(o){const n=o.getAttribute("data-modal-target");r(n)}})}),document.addEventListener("click",function(t){t.target.classList.contains("modal-close")&&l(),t.target.classList.contains("modal-overlay")&&l()}),document.addEventListener("keydown",function(t){t.key==="Escape"&&s&&l()});function r(t){const e=document.getElementById(t);if(!e){console.error("Modal not found:",t);return}console.log("Showing modal:",t),s&&(s.style.display="none",s.classList.remove("active")),e.style.display="flex",e.classList.add("active"),document.body.classList.add("modal-open"),s=e,e.focus()}function l(){s&&(s.style.display="none",s.classList.remove("active"),document.body.classList.remove("modal-open"),s=null)}if(typeof gsap<"u"){const t=document.querySelector(".featured-news");t&&gsap.fromTo(t,{opacity:0,y:50},{opacity:1,y:0,duration:1,scrollTrigger:{trigger:t,start:"top 85%",toggleActions:"play none none reverse"}}),gsap.utils.toArray(".news-card").forEach((o,n)=>{gsap.fromTo(o,{opacity:0,y:30},{opacity:1,y:0,duration:.6,delay:n*.1,scrollTrigger:{trigger:o,start:"top 90%",toggleActions:"play none none reverse"}})}),gsap.utils.toArray(".filter-item").forEach((o,n)=>{gsap.fromTo(o,{opacity:0,scale:.8},{opacity:1,scale:1,duration:.4,delay:n*.1,scrollTrigger:{trigger:".news-filters",start:"top 90%",toggleActions:"play none none reverse"}})});const e=document.querySelector(".news-section .section-header");e&&gsap.fromTo(e,{opacity:0,y:30},{opacity:1,y:0,duration:.8,scrollTrigger:{trigger:e,start:"top 85%",toggleActions:"play none none reverse"}})}});
