{# Base layout template #}
{% set pageHandle = entry.section.handle ?? 'home' %}
{% set siteName = siteName ?? 'The Leading Edge' %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    {# SEO Meta Tags #}
    <title>{% block title %}{{ entry.title ?? siteName }}{% endblock %}</title>
    <meta name="description" content="{% block metaDescription %}{{ entry.metaDescription ?? 'Premium hair and beauty salon offering expert styling, cutting, coloring, and spa services.' }}{% endblock %}">
    <meta name="keywords" content="{% block metaKeywords %}hair salon, beauty salon, hair cutting, hair coloring, spa services, nail services{% endblock %}">
    
    {# Open Graph Meta Tags #}
    <meta property="og:title" content="{% block ogTitle %}{{ entry.title ?? siteName }}{% endblock %}">
    <meta property="og:description" content="{% block ogDescription %}{{ entry.metaDescription ?? 'Premium hair and beauty salon offering expert styling, cutting, coloring, and spa services.' }}{% endblock %}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ craft.app.request.absoluteUrl }}">
    <meta property="og:image" content="{% block ogImage %}{{ siteUrl }}images/og-image.jpg{% endblock %}">
    
    {# Twitter Card Meta Tags #}
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitterTitle %}{{ entry.title ?? siteName }}{% endblock %}">
    <meta name="twitter:description" content="{% block twitterDescription %}{{ entry.metaDescription ?? 'Premium hair and beauty salon offering expert styling, cutting, coloring, and spa services.' }}{% endblock %}">
    <meta name="twitter:image" content="{% block twitterImage %}{{ siteUrl }}images/og-image.jpg{% endblock %}">
    
    {# Favicon #}
    <link rel="icon" type="image/x-icon" href="{{ siteUrl }}favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ siteUrl }}apple-touch-icon.png">
    
    {# Main CSS - compiled from Vue version styles #}
    <link rel="stylesheet" href="{{ siteUrl }}css/main.css">
    
    {# Additional head content #}
    {% block head %}{% endblock %}
    
    {# Schema.org structured data - using real contact info from Vue footer #}
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BeautySalon",
        "name": "{{ siteName }}",
        "description": "Premium hair and beauty salon offering expert styling, cutting, coloring, and spa services.",
        "url": "{{ siteUrl }}",
        "telephone": "0161 368 9999",
        "email": "enquiries@leadingedgehairandbeauty.co.uk",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "61 Dowson Road",
            "addressLocality": "Hyde",
            "addressRegion": "Cheshire",
            "postalCode": "SK14 1QS",
            "addressCountry": "GB"
        },
        "openingHours": [
            "Tu-We 09:00-18:00",
            "Th 09:00-20:00",
            "Fr 09:00-19:00",
            "Sa 09:00-17:00"
        ],
        "priceRange": "££"
    }
    </script>
</head>

<body class="{% block bodyClass %}{{ pageHandle }}-page{% endblock %}">
    {# Skip to content link for accessibility #}
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    {# Header #}
    {% include '_layout/_header.twig' %}
    
    {# Barba.js wrapper #}
    <div data-barba="wrapper">
        <div data-barba="container" data-barba-namespace="{{ pageHandle }}">
            {# Main content #}
            <main id="main-content" class="main-content">
                {% block content %}{% endblock %}
            </main>
        </div>
    </div>
    
    {# Footer #}
    {% include '_layout/_footer.twig' %}
    
    {# Main JavaScript - includes Barba.js transitions #}
    <script src="{{ siteUrl }}js/main.js"></script>
    
    {# Additional scripts #}
    {% block scripts %}{% endblock %}
    
    {# Google Analytics (replace with your tracking ID) #}
    {% if not craft.app.config.general.devMode %}
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'GA_MEASUREMENT_ID');
        </script>
    {% endif %}
</body>
</html>
